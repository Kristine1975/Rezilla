<HTML>
<HEAD>
<TITLE>Anatomie du plugin</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=iso-8859-1">
<META NAME=GENERATOR CONTENT="Aida Mode">
</HEAD>
<BODY>

<A HREF="index.html">Orig</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="73.html">Prec</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="75.html">Suiv</A><HR><P>&nbsp;</P>
<H3>Anatomie du plugin</H3>
Techniquement un plugin est simplement une bibliothèque dynamique (<I>dynamic 
library</I>) qui est chargée par l'application principale dès que nécessaire. 
Sous OS X, cette bibliothèque se présente sous forme de ce que l'on appelle un
paquetage (<I>bundle</I>), c'est-à-dire une structure analogue à un répertoire
qui contient la bibliothèque elle-même et quelques fichiers complémentaires.<P>Pour en savoir plus sur les <I>paquetages</I> sous OS X, voir:
<A HREF="http://developer.apple.com/documentation/CoreFoundation/Conceptual/CFBundles/Concepts/about.html">http://developer.apple.com/documentation/CoreFoundation/Conceptual/CFBundles/Concepts/about.html</A><P>L'utilisation de cette architecture facilite considérablement, du point de 
vue de l'utilisateur, les tâches de maintenance relatives aux plugins,
comme l'ajout, la suppression, l'activation ou la désactivation.
Toutes ces actions peuvent être accomplies depuis le Finder de façon 
transparente (voir la section <I>Éditeurs Externes</I> dans l'aide de 
Rezilla). L'utilisateur n'a pas à connaître la localisation exacte des 
plugins à l'intérieur de l'application.<P>Voici, à titre d'exemple, la structure interne du plugin <B>RezImagePlugin</B>,
fourni avec la version 1.1 de Rezilla:
<P><IMG SRC="../../Images/rzil_pluginanatomy.gif " ALT="Plugin anatomy" ALIGN=bottom></P><P>Ce plugin s'appelle <I>RezImagePlugin.plugin</I>. Il doit avoir une
extension <I>.plugin</I> afin que Rezilla puisse le trouver. Certains
éléments du sous-dossier <I>Contents</I> sont obligatoires, les autres
sont facultatifs. Les éléments obligatoires sont:
<UL>
	<LI> le fichier <I>Info.plist</I> qui est un fichier de liste de propriétés
contenant des informations sur le paquetage. Voir la
section <A HREF="#plugplist"><I>Liste de propriétés du plugin</I></A> 
ci-dessous.
	<LI> le sous-dossier <I>MacOS</I> qui comporte la bibliothèque dynamique 
elle-même
(<I>RezImagePlugin</I> dans l'exemple précédent).
</UL><P>Le sous-dossier <I>Resources</I> peut contenir des données supplémentaires. 
Dans l'exemple précédent, on y trouve:
<UL>
	<LI> un fichier de ressources appelé <I>RezImagePlugin.rsrc</I> qui définit 
des 
ressources utilisées par le plugin. Le nom du fichier de ressources est le 
nom de l'exécutable (la bibliothèque située dans le sous-dossier <I>MacOS</I> 
du plugin) suivi d'une extension <TT>.rsrc</TT>.<P>	<LI> les dossiers de localisation (<I>English.lproj, French.lproj</I>)
avec les données localisées pour un langage particulier. Dans le présent
exemple, deux fichiers contiennent des chaînes localisées utilisées par le
plugin. D'autres langages peuvent bien entendu être ajoutés.<P></UL><P><A NAME="pluguuids"></A>


</BODY>
</HTML>
