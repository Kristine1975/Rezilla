<HTML>
<HEAD>
<TITLE>Syntaxe des gabaritsCette section explique comment écrire un gabarit pour une ressource</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=iso-8859-1">
<META NAME=GENERATOR CONTENT="Aida Mode">
</HEAD>
<BODY>

<A HREF="index.html">Orig</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="12.html">Prec</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="14.html">Suiv</A><HR><P>&nbsp;</P>
<H2>Syntaxe des gabarits</H2><P>Cette section explique comment écrire un gabarit pour une ressource
particulière. Les gabarits sont des ressources de type TMPL qui utilisent
une syntaxe très simple : ils consistent en une liste de paires constituées
d'une étiquette et d'une balise décrivant le type d'une valeur particulière
dans la ressource. Un gabarit décrit ainsi, les unes après les autres,
toutes les valeurs d'une ressource de type donné : pour l'éditer, l'éditeur
de gabarits lit les données de la ressource séquentiellement et les compare
avec le gabarit.<P><H3>Un exemple simple</H3>
Prenons un exemple. Une ressource 'FREF' est un type standard de ressource
utilisé par le Finder pour associer une icone à un certain type de fichier.
Elle est constituée de trois éléments qui sont un type, une valeur décimale
correspondant au numéro ID d'une icone et une chaîne indiquant un nom pour
le fichier. Le type occupe quatre octets et est décrit par la balise TNAM
(TNAM signifie <I>type's name</I>). Le numéro ID de l'icone est un entier
qui occupe deux octets et est décrit par la balise DWRD (DWRD signifie <I>decimal word</I>). Le nom de fichier est représenté par une chaîne de
Pascal (qui stocke en mémoire la longueur de la chaîne sur un octet suivi
de la chaîne elle-même): il est décrit par la balise PSTR (PSTR signifie <I>Pascal string</I>). Le gabarit pour une ressource FREF peut donc être
décrit schématiquement comme ceci :
<PRE>
	File type       TNAM
	Icon local ID   DWRD
	File name       PSTR
</PRE>
La première colonne représente les étiquettes expliquant le genre de
données attendu, la seconde colonne contient les balises décrivant le type
des données attendues. Les étiquettes sont simplement descriptives : ce
sont les chaînes que l'on peut voir dans l'éditeur de gabarits devant les
différents champs, boîtes à cocher etc. L'information la plus importante  est
fournie par les balises car elles identifient précisément le type des données et
leur taille.<P>Compte-tenu de ce gabarit, lorsque l'éditeur de gabarits ouvre une ressource FREF, 
il la lit de gauche à droite comme ceci :
<UL>
	<LI> il prend les quatre premiers octets car il attend une balise TNAM qui 
occupe toujours quatre octets en mémoire;
	<LI> il prend ensuite les deux octets suivants et les interprète comme la valeur 
décimale de l'identificateur numérique d'une icone;
	<LI> enfin les données restantes devraient être une chaîne de Pascal: le
premier octet est la longueur de la chaîne, et la chaîne elle-même suit. Si
l'octet de longueur est un nombre <I>n</I>, il devra y avoir exactement
<I>n</I> octets à la suite à moins que la ressource ne soit corrompue.
</UL><P>Par exemple, les données hypothétiques suivantes (représentées ici en notation
hexadécimale)
<PRE>
	4150504c0080094e6176696761746f72
</PRE>
se décomposent de la manière suivante
<UL>
	<LI> 4150504c, où les nombres hexadécimaux 41 50 50 et 4c sont les codes
des letters A, P, P, et L. Le type du fichier est ainsi APPL.
	<LI> 0080 qui est la représentation hexadécimale du nombre 128.
L'identificateur numérique de l'icone est donc 128.
	<LI> 094e6176696761746f72 indique une chaîne de 9 caractères (premier
octet 09). En effet 4e6176696761746f72 est la représentation hexadécimale
des codes des 9 lettres du mot <I>Navigator</I>.
</UL><P>Voici comment l'éditeur de gabarits affichera la ressource:
<P><IMG SRC="../../Images/rzil_FREF_Template.gif" ALT="Une ressource FREF" ALIGN=bottom></P><P>Tout ceci peut être vérifié également dans les deux panneaux de l'éditeur hexadécimal. 
Pour chaque type de balise, l'éditeur de gabarits de Rezilla sait comment
afficher les données qu'il lit dans la ressource. Il y a de nombreuses
balises qui permettent de décrire une grande variété de données. Des
gabarits plus sophistiqués auront recours à des listes, des sections
contrôlées par des valeurs-clés, des valeurs calculées dynamiquement etc.
Toutes les balises disponibles avec Rezilla sont décrites dans la
section <I>Balises de gabarit</I> ci-dessous.<P><H3>Editer un gabarit</H3><P>Bonne nouvelle ! Il existe un gabarit pour les ressources de type TMPL.
Cela signifie que l'on peut éditer ces ressources au moyen de... l'éditeur
de gabarits ! Celui-ci présente une liste de paires balise/étiquette sous
forme de chaînes de caractères, et permet d'ajouter ou de retirer
certaines paires, de les modifer etc. La seule chose à savoir est quelle
balise on doit utiliser pour chaque type de données. La section suivante répond à
cette question.<P>Maintenant que la structure des gabarits a été expliquée, il est possible 
de décrire avec davantage de précision le format d'une ressource TMPL. Il
s'agit d'une liste de paires comportant un code de quatre caractères et une
chaîne de Pascal ; en d'autres termes, c'est une série de données de type TNAM et
PSTR alternativement.<P><H3>Balises de gabarit</H3><P>Les balises sont les codes de quatre caractères qui désignent les types de
données des gabarits (comme par exemple, TNAM, DWRD et PSTR). La vénérable
application <B>ResEdit</B>, qui était l'éditeur de ressources fourni par
Apple sur les systèmes MacOS antérieurs au système OSX, a établi une
première syntaxe de gabarits en définissant un ensemble d'environ 35
balises. C'est cet ensemble qui constitue la <I>syntaxe de base</I>.<P>Par la suite d'autres éditeurs (principalement <B>Resorcerer</B> de 
<A HREF="www.mathemaesthetics.com"> Mathemaesthetics</A>) ont développé cette
syntaxe et ajouté de nouvelles balises afin de couvrir les aspects qui ne
pouvaient pas être traités au moyen des balises de base de ResEdit. Ce
nouvel ensemble de balises ajouté aux anciennes constitue la syntaxe <I>étendue</I> des gabarits.
Les éditeurs de ressources ne comportent pas tous un mode d'édition par 
gabarits supportant la syntaxe étendue mais tous devraient au moins
comprendre la syntaxe de base.<P>Rezilla supporte la syntaxe étendue et la présente section donne la liste exhaustive
des balises, regroupées selon différentes catégories. <P>Par convention le terme <I>Byte</I> (octet) est utilisé pour désigner une
valeur stockée sur 1 octet, <I>Word</I> (mot) pour désigner une valeur stockée
sur 2 octets et <I>Long</I> pour désigner une valeur stockée sur 4 octets.
On les retrouve, abrégés en BYT, WRD, ou LNG, dans le nom de nombreuses
balises (comme par exemple DBYT, HWRD, ULNG), et parfois avec seulement
leur initiale (comme dans BCNT, WFLG ou LBIT).<P>Les tables ci-dessous indiquent pour chaque balise, sa signification et la taille
occupée dans la ressource par la valeur correspondante. La lettre <I>x</I> dans la
dernière colonne marque les balises qui font partie de la syntaxe étendue.<P><H4>Valeurs numériques</H4>
Rezilla permet de désigner les valeurs hexadécimales au moyen des symboles
<B>$</B> ou <B>0x</B>. Le signe dollar est admis pour des raisons
historiques: c'est ce qu'utilisent traditionnellement ResEdit et des outils
de ligne de commande tels que Rez et DeRez.<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>DBYT</TD><TD>octet décimal signé </TD><TD>1 octet</TD><TD></TD></TR>
<TR><TD>DWRD</TD><TD>mot décimal signé</TD><TD>2 octets</TD><TD></TD></TR>
<TR><TD>DLNG</TD><TD>long décimal signé</TD><TD>4 octets</TD><TD></TD></TR>
<TR><TD>UBYT</TD><TD>octet décimal non signé</TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>UWRD</TD><TD>mot décimal non signé</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>ULNG</TD><TD>long décimal non signé</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>HBYT</TD><TD>octet hexadécimal non signé</TD><TD>1 octet</TD><TD></TD></TR>
<TR><TD>HWRD</TD><TD>mot hexadécimal non signé</TD><TD>2 octets</TD><TD></TD></TR>
<TR><TD>HLNG</TD><TD>long hexadécimal non signé </TD><TD>4 octets</TD><TD></TD></TR>
<TR><TD>BOOL</TD><TD>mot booléen (bit fort)</TD><TD>2 octets</TD><TD></TD></TR>
<TR><TD>BFLG</TD><TD>octet booléen (bit faible)</TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>WFLG</TD><TD>mot booléen (bit faible)</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>LFLG</TD><TD>long booléen (bit faible)</TD><TD>4 octets</TD><TD>x</TD></TR>
</TABLE></P><P>Concernant les valeurs booléennes, il y a différentes balises selon le
nombre d'octets qu'elles occupent en mémoire. En particulier, la balise
BOOL est inhabituelle car elle place la valeur 0 ou 1 dans le premier de
deux octets, le second étant toujours 0. La table suivante indique les
valeurs correspondantes dans une ressource:
<P><TABLE BORDER=0 CELLPADDING=1>
<TR><TD></TD><TD><I>vrai</I></TD><TD><I>faux</I></TD></TR>
<TR><TD>BOOL</TD><TD>0100</TD><TD>0000</TD></TR>
<TR><TD>BFLG</TD><TD>01</TD><TD>00</TD></TR>
<TR><TD>WFLG</TD><TD>0001</TD><TD>0000</TD></TR>
<TR><TD>LFLG</TD><TD>00000001</TD><TD>00000000</TD></TR>
</TABLE></P><P><H4>Valeurs de bits</H4>
Lorsqu'un gabarit définit des valeurs de bits, il faut se souvenir que ces bits
font toujours partie d'un octet, d'un mot ou d'un long. Ainsi le nombre total
de bits consécutifs doit toujours être 8, 16 ou 32 (ou des multiples de ces
valeurs). D'autre part, un gabarit énonce toujours les bits comme s'ils étaient lus
de gauche à droite, autrement dit en commençant par le bit le plus fort.<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>BBIT</TD><TD>Bit dans un octet</TD><TD>1 bit</TD><TD></TD></TR>
<TR><TD>BB<I>0n</I></TD><TD>Bits dans un octet</TD><TD><I>n</I> bits</TD><TD>x</TD></TR>
<TR><TD>WBIT</TD><TD>Bit dans un mot</TD><TD>1 bit</TD><TD>x</TD></TR>
<TR><TD>WB<I>nn</I></TD><TD>Bits dans un mot</TD><TD><I>nn</I> bits</TD><TD>x</TD></TR>
<TR><TD>LBIT</TD><TD>Bit dans un long</TD><TD>1 bit</TD><TD>x</TD></TR>
<TR><TD>LB<I>nn</I></TD><TD>Bits dans un long</TD><TD><I>nn</I> bits</TD><TD>x</TD></TR>
</TABLE></P><P>Dans le cas de la balise BB<I>0n</I>, <I>n</I> est une valeur décimale
comprise entre 0 et 7. pour WB<I>nn</I>, <I>nn</I> est compris
entre 0 et 15. pour LB<I>nn</I>, <I>nn</I> est compris entre 0 et
31.<P><H4>Chaînes</H4>
Dans la table suivante, <I>nn</I> ou <I>nnn</I> désignent des valeurs
hexadécimales. Par exemple, si l'on trouve une balise C010 dans un gabarit, cela
correspond à une chaîne de langage C contenue dans 16 octets (l'octet nul
terminal est inclus). Si la chaîne C avec son octet nul terminal est plus
courte, les octets excédentaires sont mis à zéro.<P>On notera qu'il existe une différence incompatible entre la syntaxe basique
et la syntaxe étendue concernant la balise P<I>0nn</I> : la syntaxe de
base (définie dans ResEdit) considère que l'octet initial qui contient la
longueur de la chaîne de Pascal n'est <I>pas</I> inclus dans la nombre <I>$nn</I>, tandis qu'avec la syntaxe étendue, c'est la contraire. La syntaxe
étendue a modifié cela dans un souci de cohérence avec d'autres balises
(telles que C<I>nnn</I>, H<I>nnn</I>, F<I>nnn</I> etc.). Rezilla adopte
la même convention, ce qui fait que ce qui aurait été écrit P00F avec un
gabarit de ResEdit devra être défini comme P010 avec Rezilla (et avec tout
éditeur de ressources supportant cette syntaxe, comme Resorcerer).<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>PSTR</TD><TD>chaîne de Pascal</TD><TD>1 à 256</TD><TD></TD></TR>
<TR><TD>ESTR</TD><TD>chaîne de Pascal complétée à longueur paire</TD><TD>2 à 256</TD><TD></TD></TR>
<TR><TD>PPST</TD><TD>chaîne de Pascal paire (complément inclus)</TD><TD>2 à 256</TD><TD>x</TD></TR>
<TR><TD>OSTR</TD><TD>chaîne de Pascal complétée à longueur impaire</TD><TD>1 à 255</TD><TD></TD></TR>
<TR><TD>CSTR</TD><TD>chaîne C terminée par 0x00</TD><TD>1 ou plus </TD><TD></TD></TR>
<TR><TD>ECST</TD><TD>chaîne C complétée à longueur paire</TD><TD>2 ou plus</TD><TD></TD></TR>
<TR><TD>OCST</TD><TD>chaîne C complétée à longueur impaire</TD><TD>1 ou plus</TD><TD></TD></TR>
<TR><TD>BSTR</TD><TD>chaîne avec longueur dans un octet</TD><TD>1 à 256</TD><TD>x</TD></TR>
<TR><TD>WSTR</TD><TD>chaîne avec longueur dans un mot</TD><TD>2 à 65KB</TD><TD></TD></TR>
<TR><TD>LSTR</TD><TD>chaîne avec longueur dans un long</TD><TD>4 à 4MB</TD><TD></TD></TR>
<TR><TD>P<I>0nn</I></TD><TD>chaîne de Pascal avec complément fixe</TD><TD><I>$nn</I> octets</TD><TD></TD></TR>
<TR><TD>C<I>nnn</I></TD><TD>chaîne C avec complément fixe</TD><TD><I>$nnn</I> octets</TD><TD>x</TD></TR>
<TR><TD>T<I>nnn</I></TD><TD>texte avec complément fixe</TD><TD><I>$nnn</I> octets</TD><TD>x</TD></TR>
</TABLE></P><P><H4>Champs hexadécimaux</H4>
Dans la balise H<I>nnn</I>, <I>nnn</I> désigne une valeur hexadécimale.
Par exemple, si l'on trouve H100 dans un gabarit, cela représente 256
(=0x100) valeurs hexadécimales. Dans la table suivante <I>l</I> désigne la longueur de la
chaîne hexadécimale: les six premières balises représentent une longueur
stockée au début de la chaîne et suivie des données hexadécimales.<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>BHEX</TD><TD>données hexadécimales avec <I>l</I> dans un octet </TD><TD>1 à 256</TD><TD>x</TD></TR>
<TR><TD>WHEX</TD><TD>données hexadécimales avec <I>l</I> dans un mot  </TD><TD>2 à 65KB</TD><TD>x</TD></TR>
<TR><TD>LHEX</TD><TD>données hexadécimales avec <I>l</I> dans un long  </TD><TD>4 à 4MB</TD><TD>x</TD></TR>
<TR><TD>BSHX</TD><TD>données hexadécimales avec <I>l-1</I> dans un octet  </TD><TD>1 à 255</TD><TD>x</TD></TR>
<TR><TD>WSHX</TD><TD>données hexadécimales avec <I>l-2</I> dans un mot  </TD><TD>2 à 65KB-2</TD><TD>x</TD></TR>
<TR><TD>LSHX</TD><TD>données hexadécimales avec <I>l-4</I> dans un long  </TD><TD>4 à 4MB-4</TD><TD>x</TD></TR>
<TR><TD>H<I>nnn</I></TD><TD>données hexadécimales de longueur fixe  </TD><TD><I>$nnn</I></TD><TD></TD></TR>
<TR><TD>HEXD</TD><TD>données hexadécimales non limitées</TD><TD></TD><TD></TD></TR>
</TABLE></P><P><H4>Offsets</H4>
Les balises suivantes sont utilisées comme marqueurs afin de calculer
automatiquement et dynamiquement la taille d'une portion de ressource qui
n'est pas connue par avance, par exemple lorsque la ressource contient des
données de taille variable, comme du code binaire ou des images. Les six
premières balises indiquent où la taille calculée doit être stockée : avec
les balises BSKP, WSKP, LSKP la place occupée par cette valeur est incluse
dans le compte, avec BSIZ, WSIZ, LSIZ, elle ne l'est pas. Autrement dit,
dans le premier cas, la position de départ est la position du premier octet
de la taille ; dans le deuxième cas, c'est la position après le dernier
octet de la taille. La position de fin est la position atteinte lorsque
l'on rencontre une balise SKPE correspondante dans le gabarit. Chacune des
six balises de départ doit être appariée avec une balise SKPE ; les paires
peuvent être imbriquées.<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>BSKP</TD><TD>décalage inclusif stocké dans un octet</TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>WSKP</TD><TD>décalage inclusif stocké dans un mot</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>LSKP</TD><TD>décalage inclusif stocké dans un long</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>BSIZ</TD><TD>décalage exclusif stocké dans un octet</TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>WSIZ</TD><TD>décalage exclusif stocké dans un mot</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>LSIZ</TD><TD>décalage exclusif stocké dans un long</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>SKPE</TD><TD>fin de décalage</TD><TD>0 octet</TD><TD>x</TD></TR>
</TABLE></P><P><H4>Listes</H4>
Il est possible de construire des listes avec des gabarits. Il existe deux
sortes de listes: numérotées ou non numérotées. Dans la cas d'une liste
numérotée (balise LSTC), le nombre d'éléments dans la liste est stocké dans
la ressource elle-même. Dans la cas d'une liste non numérotée (balises LSTB ou
LSTZ), le nombre d'éléments n'est pas écrit dans la ressource: la liste
court jusqu'à la fin de la ressource, la différence entre LSTB et LSTZ
étant que cette dernière ajoute un octet nul (0x00) pour terminer la
ressource.<P>Pour les listes numérotées, le compte peut partir de 0 ou de 1. Si la
valeur de ce compte est 3 et qu'il s'agit d'une liste comptée à partir de
0, il y a en réalité 4 éléments dans la liste. La balise WCNT est synonyme
de OCNT.<P>La balise FCNT spécifie une liste ayant un nombre fixé d'éléments : le
compte des éléments dans la liste n'est pas stocké dans la ressource mais
dans le gabarit lui-même. Il est censé se trouver au début de l'étiquette
de la balise FCNT.<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>BCNT</TD><TD>compte à partir de 1 sur 1 octet</TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>OCNT</TD><TD>compte à partir de 1 sur 1 mot </TD><TD>2 octets</TD><TD></TD></TR>
<TR><TD>WCNT</TD><TD>compte à partir de 1 sur 1 mot </TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>LCNT</TD><TD>compte à partir de 1 sur 1 long</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>ZCNT</TD><TD>compte à partir de 0 sur un mot</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>LZCT</TD><TD>compte à partir de 0 sur un long</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>FCNT</TD><TD>liste de taille fixée</TD><TD>0 octet</TD><TD>x</TD></TR>
<TR><TD>LSTC</TD><TD>début de liste numérotée</TD><TD>0 octet</TD><TD></TD></TR>
<TR><TD>LSTB</TD><TD>début de liste non numérotée</TD><TD>0 octet</TD><TD></TD></TR>
<TR><TD>LSTZ</TD><TD>début de liste terminée par 0x00</TD><TD>0 octet</TD><TD></TD></TR>
<TR><TD>LSTE</TD><TD>fin d'une liste</TD><TD>0 ou 1 octet</TD><TD></TD></TR>
</TABLE></P><P><H4>Balise CASE</H4>
La balise CASE sert à déclarer des valeurs prédéfinies ou des choix par
défaut. Il peut y avoir plusieurs balises CASE à la suite d'une balise
éditable. Rezilla les utilise pour construire un menu dont les éléments
correspondent à chacune des balises CASE. L'étiquette d'une balise CASE est
constituée de deux éléments séparés par un signe égal : l'élément de gauche
est ce qui sera affiché dans le menu, tandis que l'élément de droite est la
valeur qui sera attribuée à la balise concernée si c'est cet élément qui
est sélectionné dans le menu. Une balise CASE ne correspond à aucun octet
dans la ressource elle-même, elle ne sert qu'au gabarit.<P>Pour être plus concret, voici schématiquement ce que pourraient être
quelques balises CASE proposant des choix pour un style de police stocké
dans un nombre hexadécimal sur un octet :
<PRE>
	HBYT	Style
	CASE	Normal=$00
	CASE	Gras=$01
	CASE	Italique=$02
	CASE	Souligné=$04
	CASE	Condensé=$20
	CASE	Étendu=$40
</PRE>
L'éditeur de gabarits construira un menu placé à côté du champ destiné à
recevoir la valeur du style. Ce menu comportera six éléments : <I>Normal,
Gras, Italique, Souligné, Condensé</I> et <I>Étendu</I>. Si l'utilisateur choisit
<I>Souligné</I>, la valeur <I>$04</I> sera automatiquement insérée dans le champ.<P><H4>Sections à clés</H4>
Le format de certaines ressources a pu changer avec le temps. Il n'est pas
rare qu'un format de ressource prévoie un champ pour indiquer justement la version
du format qu'elle utilise. Les sections à clé fournissent une syntaxe pour
gérer différentes définitions d'une ressource au sein d'un unique gabarit.
Selon la valeur d'une certaine clé, une définition est utilisée plutôt
qu'une autre.<P>Il y a aussi la situation dans laquelle une ressource est utilisée afin de 
stocker des éléments hétérogènes dont la définition de gabarit diffère.
Ceci peut aussi être géré au moyen d'une section à clé où chaque clé
correspondra à l'un des types d'éléments.<P>Les sections à clé sont introduites par l'une des balises suivantes : KBYT,
KWRD, KLNG, KUBT, KUWD, KULG, KHBT, KHWD, KHLG, KCHR, KTYP, KRID. Ces
balises doivent être suivies par une série de balises CASE dont les
étiquettes spécifient la valeur de la clé. À chaque clé doit correspondre
dans le gabarit une section KEYB/KEYE où la balise KEYB a une étiquette
égale à la clé. Finalement la définition a utiliser pour le gabarit est
tout ce qui se trouve entre les balises de début et de fin KEYB et KEYE. Le
format des déclarations avec la balise CASE a été expliqué dans la section
précédente.<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>KBYT</TD><TD>la clé est un décimal signé </TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>KWRD</TD><TD>la clé est un décimal signé </TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>KLNG</TD><TD>la clé est un décimal signé </TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>KUBT</TD><TD>la clé est un décimal non signé </TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>KUWD</TD><TD>la clé est un décimal non signé </TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>KULG</TD><TD>la clé est un décimal non signé </TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>KHBT</TD><TD>la clé est un hexadécimal non signé  </TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>KHWD</TD><TD>la clé est un hexadécimal non signé  </TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>KHLG</TD><TD>la clé est un hexadécimal non signé  </TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>KCHR</TD><TD>la clé est un caractère ASCII</TD><TD>1 octet</TD><TD>x</TD></TR>
<TR><TD>KTYP</TD><TD>la clé est un code à 4 caractères</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>KRID</TD><TD>la clé est l'identificateur de ressource</TD><TD>0 octet</TD><TD>x</TD></TR>
<TR><TD>KEYB</TD><TD>début de section à clé</TD><TD>0 octet</TD><TD>x</TD></TR>
<TR><TD>KEYE</TD><TD>fin de section à clé</TD><TD>0 octet</TD><TD>x</TD></TR>
</TABLE></P><P><H4>Champs fantômes</H4>
Les balises d'alignement sont utilisées pour aligner des données sur des
positions paires. Elles permettent de compléter les données précédentes en
décalant la position courant vers la droite sur une valeur qui est un
multiple de 2, 4, 8 ou 16. Ces balises ne sont pas éditables.<P>Les balises de remplissage sont des conteneurs de données sans
signification particulière : elles sont utilisées, par exemple, pour
réserver de la place pour un usage futur. Il est possible de les rendre
visibles dans l'éditeur de gabarits de Rezilla et même éditables: il y a
des préférences pour cela (voir la section <I>Préférences</I>).<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>AWRD</TD><TD>aligner sur 2 octets</TD><TD>0 ou 1 octets</TD><TD></TD></TR>
<TR><TD>ALNG</TD><TD>aligner sur 4 octets</TD><TD>0 à 3 octets</TD><TD></TD></TR>
<TR><TD>AL08</TD><TD>aligner sur 8 octets</TD><TD>0 à 7 octets</TD><TD>x</TD></TR>
<TR><TD>AL16</TD><TD>aligner sur 16 octets</TD><TD>0 à 15 octets</TD><TD>x</TD></TR>
<TR><TD>FBYT</TD><TD>remplissage sur 1 octet</TD><TD>1 octet</TD><TD></TD></TR>
<TR><TD>FWRD</TD><TD>remplissage sur 1 mot</TD><TD>2 octets</TD><TD></TD></TR>
<TR><TD>FLNG</TD><TD>remplissage sur 1 long</TD><TD>4 octets</TD><TD></TD></TR>
<TR><TD>F<I>nnn</I></TD><TD>remplissage sur plusieurs octets</TD><TD><I>$nnn</I> octets</TD><TD>x</TD></TR>
</TABLE></P><P><H4>Divers</H4>
La table ci-dessous réunit diverses balises qui possèdent une interface
particulière et ne rentrent pas dans les catégories précédentes. Par
exemple, la balise COLR affiche une couleur RVB (rouge, vert, bleu) et fait
appel à un sélectionneur de couleurs si l'on clique dans le rectangle
coloré. Cela évite d'avoir à manipuler directement les valeurs hexadécimales 
spécifiant les composantes de rouge, vert et bleu. De même, les balises LNGC, RGNC et
SCPC construisent un menu prédéfini contenant les valeurs possibles pour
les codes de langage, région ou script respectivement. Les balises DATE et 
MDAT sont synonymes.<P><P><TABLE BORDER=1 CELLPADDING=1>
<TR><TD><I>balise</I></TD><TD><I>description</I></TD><TD><I>taille</I></TD><TD></TD></TR>
<TR><TD>RSID</TD><TD>identificateur numérique de resource</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>CHAR</TD><TD>caractère ASCII</TD><TD>1 octet</TD><TD></TD></TR>
<TR><TD>TNAM</TD><TD>type de 4 caractères</TD><TD>4 octets</TD><TD></TD></TR>
<TR><TD>DATE</TD><TD>date et heure en secondes</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>MDAT</TD><TD>date et heure de modification</TD><TD>4 octets</TD><TD>x</TD></TR>
<TR><TD>SCPC</TD><TD>code script MacOS</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>LNGC</TD><TD>code langage MacOS</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>RGNC</TD><TD>code région MacOS</TD><TD>2 octets</TD><TD>x</TD></TR>
<TR><TD>PNT </TD><TD>coordonnées d'un point</TD><TD>4 octets</TD><TD></TD></TR>
<TR><TD>RECT</TD><TD>coordonnées d'un rectangle</TD><TD>8 octets</TD><TD></TD></TR>
<TR><TD>COLR</TD><TD>couleur RVB</TD><TD>6 octets</TD><TD>x</TD></TR>
<TR><TD>DVDR</TD><TD>commentaire inséré</TD><TD>0 octet</TD><TD>x</TD></TR>
</TABLE></P><P>

</BODY>
</HTML>
